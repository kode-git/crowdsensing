<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet-0.7/leaflet.css" />
    <script src="http://cdn.leafletjs.com/leaflet-0.7.3/leaflet.js"></script>

    <script src='https://api.tiles.mapbox.com/mapbox.js/v1.6.4/mapbox.js'></script>
    <style type="text/css">
        /* TODO: Set the dimension for the map in according to the dashboards labels and fields */
        #map {
            position: fixed;
            width: 100%;
            height: 100%;
            left: 0;
            top: 0;
            z-index: 10;
        }
    </style>
</head>
<body>

<!-- This is an example using Leaftlet -->
<div id="map"></div>

<script type="text/javascript">

    //Get current position
    var options = {
    enableHighAccuracy: true,
    timeout: 5000,
    maximumAge: 0
    };


    // TODO: Set the map informations in according to the displayed data
    // View coordinates of London (dummy one, need to be a variable in according to the dashboard infos
    var map = L.map('map').fitWorld();

    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
        attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',
        maxZoom: 18,
        tileSize: 512,
        zoomOffset: -1
    }).addTo(map);

    map.locate({setView: true, maxZoom: 16});
   
    function onLocationFound(e) {
    //var radius = e.accuracy;

    L.marker(e.latlng).addTo(map)
        .bindPopup("You are within " + radius + " meters from this point").openPopup();

    //L.circle(e.latlng, radius).addTo(map);
    }

    map.on('locationfound', onLocationFound);

    // dummy marker with a simple popup
    L.marker([51.5, -0.09]).addTo(map)
        .bindPopup('It\' only a popup.<br> Dummy is here')
        .openPopup();

   

</script>
</body>
</html>